<!--pages/authorization/authorization.wxml-->
<view class="container">
  <view class="page-body" hidden="{{personInfo}}">
    <form bindsubmit="formSubmit" bindreset="formReset">
      <view class="section">
        <view class="section__title">
          姓名 <text class="star">*</text></view>
        <view class="section_name">
          <input name="name" style="text-align:right;" placeholder-style="color:#999" data-name='name' bindinput='trim' value="{{form.name}}" placeholder="请输入姓名" />
        </view>
      </view>
      <view class="section">
        <view class="section__title">
          手机号 
          <text class="star">*</text>
        </view>
        <view class="section_name">
          <input name="phone" placeholder-style="color:#999" style="text-align:right;" maxlength="11" data-name='phone' bindinput='trimPhone' value="{{form.phone}}" placeholder="请输入手机号码" />
        </view>
      </view>
      <view class="section">
        <view class="section__title">
          到访时间 <text class="star">*</text></view>
        <view class="section_name" style="text-align:right;">
          <picker mode ="date"  start="{{date}}"  bindchange="bindMultiPickerChange" 
           value="{{multiIndex}}">
            <input name="date" hidden='true' value="{{form.date}}" />
            <text style="color:{{timesColor}}">{{form.date}}</text>
            <!-- <image class="right_img" src='../images/arrow.png'></image> -->
          </picker>
        </view>
      </view>
      <view class="section">
        <view class="section__title">
          到访地址 <text class="star">*</text></view>
        <view class="section_name" style="text-align:right;">
          <input hidden="true" value="{{form.adress}}" name="adress"></input>
          <text>{{form.adress}}</text>
        </view>
      </view>
      <view class="section">
        <view class="section__title">
          车牌号 <text class="star"></text></view>
        <view class="section_name" style="text-align:right;">
          <input name="numberPlate" placeholder-style="color:#999" style="text-align:right;" data-name='idNo' value="{{form.numberPlate}}" placeholder="请输入车牌号" />
        </view>
      </view>
      <view class="section" hidden="{{isFaceImg}}">
        <view class="section__title">
          身份证号 
          <text wx:if="{{isRealName}}" class="star">*</text>
          <text wx:else class="star"></text>
        </view>
        <view class="section_name" style="text-align:right;">
          <input type="number" name="idNum" placeholder-style="color:#999" style="text-align:right;"  bindinput='trimIdNum' maxlength="18" data-name='idNum' value="{{form.idNum}}" placeholder="请输入身份证号" />
        </view>
      </view>
      <view class="section-face" hidden="{{isFaceImg}}">
         <view class="face-title">
          <text>人脸照片 </text>
          <text style="color: red;">*</text>
          <text style="color:#999">(添加后访客可刷脸通行)</text>
         </view>
         <view class="face-img">
            <view class="face-select" bindtap="camera">
                <input hidden="true" value="{{form.faceImg}}" name="faceImg"></input>
                <image src="{{form.faceImg}}"></image>
            </view> 
            <view class="face-close" bindtap="closeFaceImg" hidden="{{close}}">
              <!-- <text>x</text> -->
              <image src="../images/close.png"></image>
            </view>
         </view>
      </view>
      <view style="width:100%;height:120rpx;border-top:1rpx solid #eee"></view>
      <view class="btn-area">
        <button wx:if="{{namesContent && phoneContent && visitorTimes && idNumContent && faceUrlContent}}" class='nodisabled' form-type="submit">生成通行凭证</button>
        <button wx:else class='disabled' disabled="true" form-type="submit">生成通行凭证</button>
      </view>
    </form>
  </view>
  <view class="uploadInfo" hidden='{{uploadInfo}}' bindtap='showInFo'>
  </view>
</view>