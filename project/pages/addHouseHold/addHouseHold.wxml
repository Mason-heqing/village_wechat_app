<!--pages/addHouseHold/addHouseHold.wxml-->
<view class="container">
  <view class="page-body" hidden="{{personInfo}}">
    <form bindsubmit="formSubmit" bindreset="formReset">
      <view class="section">
        <view class="section__title">
          真实姓名 <text class="star">*</text></view>
        <view class="section_name">
          <input name="name" style="text-align:right;" placeholder-style="color:#999;" data-name='name' bindinput='trim' value="{{form.name}}" placeholder="请输入姓名" />
        </view>
      </view>
       <view class="section">
        <view class="section__title">
          住户身份 <text class="star">*</text></view>
        <view class="section_name">
          <picker bindchange="bindType" 
           value="{{index}}" range="{{houseHoldType}}">
            <input name="type" hidden='true' value="{{form.type}}" />
            <text wx:if="{{!personType}}" style="color:#999">请选择住户身份</text>
            <text wx:else>{{houseHoldType[index]}}</text>
            <image class="right_img" src='../images/arrow.png'></image>
          </picker>
        </view>
      </view>
      <view class="section" hidden="{{isHiddenTimes}}">
        <view class="section__title">
          有效期限 <text class="star">*</text></view>
        <view class="section_name" style="text-align:right;">
          <picker bindchange="bindMultiPickerChange" 
           value="{{indexTime}}" range="{{effectiveTime}}" range-key="name" disabled="{{isDisabled}}">
            <input name="houseId" hidden='true' value="{{form.houseId}}" />
            <input name="date" hidden='true' value="{{form.date}}" />
            <text wx:if="{{!isEffectiveTime}}" style="color:#999">请选择有效期限</text>
            <text wx:else>{{effectiveTime[indexTime].name}}</text>
            <image class="right_img" src='../images/arrow.png'></image>
          </picker>
          <!-- <picker mode ="date"  start="{{date}}" bindchange="bindMultiPickerChange" 
           value="{{multiIndex}}">
            <input name="date" hidden='true' value="{{form.date}}" />
            <text style="color:{{timesColor}}">{{form.showDate}}</text>
            <image class="right_img" src='../images/arrow.png'></image>
          </picker> -->
        </view>
      </view>
      <view class="section">
        手机号 <view class="section__title"><text class="star">*</text></view>
        <view class="section_name">
          <input name="phone" style="text-align:right;" placeholder-style="color:#999;" maxlength="11" data-name='phone' bindinput='trimPhone' value="{{form.phone}}" placeholder="请输入手机号码" />
        </view>
      </view>
      <view class="section" hidden="{{showStatus}}">
        身份证号 
        <view class="section__title">
            <text wx:if="{{isRealName}}" class="star">*</text>
            <text wx:else class="star"></text>
        </view>
        <view class="section_name">
          <input name="idNo" type="idcard" style="text-align:right;" placeholder-style="color:#999;" data-name='phone' bindinput='trimIdNo' value="{{form.idNo}}" placeholder="请输入身份证号码" />
        </view>
      </view>
      <view class="section" hidden="{{showStatus}}">
        IC卡号 
        <view class="section__title">
            <text class="star"></text>
        </view>
        <view class="section_name">
          <input name="icNum" type="idcard" style="text-align:right;" placeholder-style="color:#999;"  bindinput='trimIcNum' value="{{form.icNum}}" placeholder="请输入IC卡号" />
        </view>
      </view>
      <view class="section-face" hidden="{{showStatus}}">
         <view class="face-title">
          人脸照片<text>
          <text style="color: red;">*</text>
          (添加后住户可刷脸通行)</text>
         </view>
         <view class="face-img">
            <view class="face-select" bindtap="camera">
                <input hidden="true" value="{{form.faceImg}}" name="faceImg"></input>
                <image src="{{form.faceImg}}"></image>
            </view> 
            <view class="face-close" bindtap="closeFaceImg" hidden="{{close}}">
              <image src="../images/close.png"></image>
            </view>
         </view>
      </view>
      <view style="width:100%;height:60rpx;border-top:1rpx solid #eee;background-color: #eee;"></view>
      <view class="btn-area" style="background-color: #eee;">
        <!-- <button class='{{namesContent?"nodisabled":"disabled"}}' form-type="submit">确定</button> -->
        <button wx:if="{{namesContent && personType && isTimes && phoneContent && idNumContent && faceUrlContent}}" class='nodisabled' form-type="submit">确定</button>
        <button wx:else class='disabled' disabled="true" form-type="submit">确定</button>
      </view>
      <view style="width:100%;height:60rpx;border-top:1rpx solid #eee;background-color: #eee;"></view>
    </form>
  </view>
  <view class="uploadInfo" hidden='{{uploadInfo}}' bindtap='showInFo'>
  </view>
</view>
